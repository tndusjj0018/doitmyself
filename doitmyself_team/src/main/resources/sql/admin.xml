<?xml version="1.0" encoding="UTF-8"?>	<!-- SQL 맵퍼 파일은 xml 이기 때문에 -->
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="Admin">
	<select id="memberListCount" resultType="int" parameterType="map">
		select count(*) from user_tbl
		<if test="search_col!= null and search_word !=null">
			<where>
				<choose>
					<when test="search_col == 'USER_ID'">USER_ID</when>
					<when test="search_col == 'USER_NAME'">USER_NAME</when>
					<when test="search_col == 'USER_BIRTH'">USER_BIRTH</when>
					<when test="search_col == 'USER_PHONE'">USER_PHONE</when>
					<when test="search_col == 'USER_EMAIL'">USER_EMAIL</when>
				</choose>
				like '%'||#{search_word}||'%'
			</where>
		</if>
	</select>
	<select id="memberList" resultType="member" parameterType="map">
		select * from user_tbl
		<if test="search_col!= null and search_word !=null">
			<where>
				<choose>
					<when test="search_col == 'USER_ID'">USER_ID</when>
					<when test="search_col == 'USER_NAME'">USER_NAME</when>
					<when test="search_col == 'USER_BIRTH'">USER_BIRTH</when>
					<when test="search_col == 'USER_PHONE'">USER_PHONE</when>
					<when test="search_col == 'USER_EMAIL'">USER_EMAIL</when>
				</choose>
				like '%'||#{search_word}||'%'
			</where>
		</if>
	</select>
	<select id="reviewCount" resultType="int">
		select count(*) from review_tbl
	</select>
	<select id="reviewList" resultType="review" parameterType="map">
		select * from review_tbl
		<where>
			
		</where>
		order by #{orderBy} 
	</select>
</mapper>